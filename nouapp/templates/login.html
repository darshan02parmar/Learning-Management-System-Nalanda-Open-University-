{% extends 'parent.html' %}
{% load static %}
{% block body %}
<!-- Start Of Login Form-->
 <style>
  :root{
    --primary-color2: #1e40af;
    --accent-color: #3b82f6;
  }
 </style>
<div class="row mt-2">
  <div class="col-12 d-flex justify-content-center align-items-center" style="min-height: calc(100vh - 140px);">
    <script>
      function validate() {
        var userid = document.getElementById("userid");
        var password = document.getElementById("password");
        if (userid.value == "" || userid.value == null) {
          alert("Please enter userid");
          userid.focus();
        } else if (password.value == "" || password.value == null) {
          alert("Please enter password");
          password.focus();
        } else {
          document.getElementById("frmlogin").submit();
        }
      }
    </script>
    <form
      action="{% url 'nouapp:login' %}"
      id="frmlogin"
      onsubmit="event.preventDefault();validate();"
      method="post"
    >
      {% csrf_token %}
      <div
        class="div"
        style="
          background-color: var(--card-bg);
          width: 400px;
          max-width: 90%;
          box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.6);
          border-radius: 10px;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: flex-start;
          padding: 30px 20px;
        "
      >
        {% if messages %}
          {% for message in messages %}
          <div class="alert alert-success alert-dismissible fade show" role="alert">
            <strong>{{message}}</strong>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
          {% endfor %}
        {% endif %}
        
        <h1 class="form-heading" style="
          color: var(--primary-color) !important;
          font-family: Poppins, sans-serif;
          font-weight: bold;
          margin-bottom: 20px;
          text-align: center;
          width: 100%;
        ">
          <b style="color: var(--primary-color2);">LOG IN</b>
        </h1>
        
        <hr style="width: 100%; border-color: var(--primary-color); opacity: 0.3; margin-bottom: 20px;" />

        <input
          type="text"
          name="userid"
          placeholder="Enter User Id"
          id="userid"
          style="
            box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.2);
            border-radius: 5px;
            height: 40px;
            width: 100%;
            margin-bottom: 15px;
            border: none;
            padding: 6px 10px;
            background-color: var(--card-bg);
            color: var(--card-text);
          "
        />

        <input
          type="password"
          name="password"
          placeholder="Enter Password"
          id="password"
          style="
            box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.2);
            border-radius: 5px;
            height: 40px;
            width: 100%;
            margin-bottom: 15px;
            border: none;
            padding: 6px 10px;
            background-color: var(--card-bg);
            color: var(--card-text);
          "
        />

        <select
          name="usertype"
          style="
            box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.2);
            border-radius: 5px;
            height: 40px;
            width: 100%;
            margin-bottom: 15px;
            border: none;
            text-align: center;
            color: var(--primary-color2);
            padding: 6px 10px;
            background-color: var(--card-bg);
          "
        >
          <option selected>--Select User Type--</option>
          <option value="student">Student</option>
          <option value="admin">Admin</option>
        </select>

        <button
          type="submit"
          class="btn btn-primary"
          style="
            width: 100%; 
            height: 40px; 
            margin-bottom: 15px;
            background: var(--primary-color2);
            border: none;
          "
         onmouseover="this.style.backgroundColor='#1e40af'">
          Login
        </button>
       <p style="font-size: 14px; text-align: center; margin: 10px 0; color: var(--card-text);">
  <a href="{% url 'nouapp:forgot_password' %}" style="color: var(--accent-color);">
    <u>Forgot Password?</u>
  </a>
  </p>

        <p style="font-size: 14px; text-align: center; margin: 0; color: var(--card-text);">
          Don't have an account?
          <a href="{% url 'nouapp:registration' %}" style="color: var(--accent-color);">
            <u>Registration here</u>
          </a>
        </p>
      </div>
    </form>
  </div>
</div>
<!-- End Of Login Form-->

<!-- Responsive styles -->
<style>
  /* For tablets and below */
  @media (max-width: 768px) {
    .div {
      width: 90% !important;
      margin: 20px auto !important;
      padding: 10px !important;
    }
    .div input,
    .div select,
    .div button {
      width: 100% !important;
      display: block;
    }
    .div h1 {
      text-align: center !important;
    }
  }

  /* For very small phones */
  @media (max-width: 480px) {
    .div {
      margin-top: 20px !important;
      padding: 10px !important;
    }
    .div h1 {
      font-size: 1.5rem !important;
    }
  }
</style>

{% endblock body %}